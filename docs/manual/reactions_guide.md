# ğŸ­ AEGIS ë¦¬ì•¡ì…˜ ì—”ì§„ ê°€ì´ë“œ (Reaction Engine)

AEGIS ì•„ë°”íƒ€ëŠ” ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ íŠ¹ì • ì¡°ê±´ì´ ì¶©ì¡±ë  ë•Œ ìë™ìœ¼ë¡œ ë°˜ì‘í•©ë‹ˆë‹¤. ì´ ë¡œì§ì€ `config/reactions.json`ì—ì„œ ì œì–´ë©ë‹ˆë‹¤.

---

## 1. ë™ì‘ ì›ë¦¬
1. ì‹œìŠ¤í…œì´ ì¼ì • ì£¼ê¸°ë§ˆë‹¤ ë‚ ì”¨, ê¸ˆìœµ ë°ì´í„°ë¥¼ ìŠ¤ìº”í•©ë‹ˆë‹¤.
2. ê° ë°ì´í„°ì˜ ìˆ˜ì¹˜(ìƒíƒœ)ë¥¼ `reactions.json`ì— ì •ì˜ëœ `condition`ê³¼ ë¹„êµí•©ë‹ˆë‹¤.
3. ì¡°ê±´ì´ ì¶©ì¡±ë˜ë©´ ì •ì˜ëœ `actions` ì„¸íŠ¸ë¥¼ ì‹¤í–‰ íì— ì‚½ì…í•©ë‹ˆë‹¤.

---

## 2. ë°ì´í„° ë„ë©”ì¸ ë° ì¡°ê±´

### 2.1 ì£¼ì‹/ê¸ˆìœµ (`stock`)
- **ìˆ˜ì§‘ ë°ì´í„°**: `change_pct` (ë³€ë™ë¥ ), `name` (ì¢…ëª©ëª…), `price` (í˜„ì¬ê°€).
- **ì˜ˆì‹œ ì¡°ê±´**: 
  - `change_pct >= 3`: ì£¼ê°€ ê¸‰ë“± ì‹œ ë°œë™.
  - `change_pct <= -3`: ì£¼ê°€ ê¸‰ë½ ì‹œ ë°œë™.

### 2.2 ë‚ ì”¨ (`weather`)
- **ìˆ˜ì§‘ ë°ì´í„°**: `status` (ë‚ ì”¨ ìƒíƒœ - RAINY, SNOWY, SUNNY ë“±).
- **ì˜ˆì‹œ ì¡°ê±´**:
  - `['RAINY', 'STORM'].includes(status)`: ë¹„ê°€ ì˜¬ ë•Œ ë°œë™.

---

## 3. ì‹¤í–‰ ì•¡ì…˜ (Actions)

ë°˜ì‘ ì‹œ ì•„ë°”íƒ€ê°€ ìˆ˜í–‰í•  í–‰ë™ë“¤ì„ ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ì •ì˜í•©ë‹ˆë‹¤.

| íƒ€ì… | ê°’/ì•Œë¦¬ì•„ìŠ¤ | ì„¤ëª… |
| :--- | :--- | :--- |
| `MOTION` | `joy`, `shock`, `idle` | Live2D ëª¨ì…˜ ì—ì¼ë¦¬ì–´ìŠ¤ ì‹¤í–‰ |
| `EMOTION` | `joy`, `sad`, `thinking` | Live2D í‘œì • ì—ì¼ë¦¬ì–´ìŠ¤ ì‹¤í–‰ |
| `TTS` | `template` ë¬¸êµ¬ | ì•„ë°”íƒ€ê°€ ë§í•  ë¬¸êµ¬ (ì¤‘ê´„í˜¸ `{}` ë‚´ ë³€ìˆ˜ ì§€ì›) |
| `EVENT` | `HAPPY_DANCE` ë“± | ì‹œìŠ¤í…œ ì •ì˜ íŠ¹ìˆ˜ ì´ë²¤íŠ¸ ì‹¤í–‰ |

---

## 4. ì»¤ìŠ¤í„°ë§ˆì´ì§• ì˜ˆì‹œ

```json
"stock": {
    "super_rise": {
        "condition": "change_pct >= 10",
        "actions": [
            { "type": "MOTION", "alias": "joy" },
            { "type": "TTS", "template": "{name} ì´ ë¯¸ì³¤ì–´ìš”! ë¬´ë ¤ {change_pct}% í­ë“± ì¤‘ì…ë‹ˆë‹¤!" }
        ]
    }
}
```

---
*ìµœì¢… ì—…ë°ì´íŠ¸: 2026-02-27*
